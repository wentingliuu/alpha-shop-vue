(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,_=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&_.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(_.length)_.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},i=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d0cfe13":"a6c097bd","chunk-2d0d63d1":"1542bb1a","chunk-2d0e95b0":"63c7ecc1"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}s[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/alpha-shop-vue/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"4eba":function(t,e,n){t.exports=n.p+"img/product-1@3x.49c142b4.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"alpha-shop-vue"}},[n("Header"),n("main",[n("router-view")],1),n("Footer")],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{staticClass:"container"},[n("router-link",{staticClass:"nav__brand",attrs:{to:"/"}}),n("input",{staticClass:"nav__toggle",attrs:{type:"checkbox",id:"nav__toggle"}}),t._m(0),n("nav",{staticClass:"nav"},[n("ul",{staticClass:"nav__list"},t._l(t.tabs,(function(e){return n("li",{key:e.id,staticClass:"nav__item"},[n("router-link",{staticClass:"nav__link",attrs:{to:"/"}},[t._v(" "+t._s(e.name)+" ")])],1)})),0),n("div",{staticClass:"nav__icons"},[n("a",{staticClass:"nav__icon--search"}),n("a",{staticClass:"nav__icon--cart"}),n("a",{staticClass:"nav__icon--mode",on:{click:t.toggleDarkMode}})])])],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"nav__toggle__label",attrs:{for:"nav__toggle"}},[n("span",{staticClass:"nav__toggle__btn"})])}],c={name:"Header",data:function(){return{tabs:[{id:1,name:"男款"},{id:2,name:"女款"},{id:3,name:"最新消息"},{id:4,name:"客製商品"},{id:5,name:"聯絡我們"}],darkMode:!1}},methods:{toggleDarkMode:function(){this.darkMode=!this.darkMode}},watch:{darkMode:function(){this.darkMode?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}}},u=c,l=n("2877"),p=Object(l["a"])(u,r,o,!1,null,null,null),_=p.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"container"},[n("router-link",{staticClass:"footer__brand",attrs:{to:"/"}}),n("div",{staticClass:"footer__content"},[t._l(t.footerContents,(function(e){return n("div",{key:e.id,staticClass:"footer__list"},[n("h2",{staticClass:"footer__subtitle"},[t._v(t._s(e.title))]),n("div",{staticClass:"footer__items"},t._l(e.contents,(function(e,a){return n("router-link",{key:a,staticClass:"footer__link",attrs:{to:"/"}},[t._v(" "+t._s(e)+" ")])})),1)])})),n("div",{staticClass:"footer__list"},[n("h2",{staticClass:"footer__subtitle"},[t._v("追蹤 ALPHA Shop")]),n("div",{staticClass:"footer__items"},[n("router-link",{staticClass:"footer__link footer__link--phone",attrs:{to:"/"}},[t._v("+886 02123-45678")]),n("div",{staticClass:"footer__item"},[n("router-link",{staticClass:"footer__icon--fb",attrs:{to:"/"}}),n("router-link",{staticClass:"footer__icon--ig",attrs:{to:"/"}}),n("router-link",{staticClass:"footer__icon--wa",attrs:{to:"/"}})],1)],1)])],2)],1)])},m=[],f={name:"Footer",data:function(){return{footerContents:[{id:1,title:"客戶服務",contents:["運送說明","退換貨相關","付款資訊","FAQ"]},{id:2,title:"關於我們",contents:["品牌故事","媒體聯繫","Press Kit"]},{id:3,title:"資訊",contents:["隱私權政策","Cookie","GDPR"]}]}}},h=f,v=Object(l["a"])(h,d,m,!1,null,null,null),g=v.exports,b={name:"App",components:{Header:_,Footer:g}},C=b,y=Object(l["a"])(C,s,i,!1,null,null,null),S=y.exports,k=(n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("b0c0"),n("8c4f")),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",{staticClass:"main__title"},[t._v("結帳")]),n("section",{staticClass:"main__content"},[n("div",{staticClass:"main__content__left"},[n("Stepper",{attrs:{"current-step":t.currentStep}}),n("form",{attrs:{id:"form"}},[n("div",{staticClass:"form__content"},[n("router-view",{attrs:{"initial-user-info":t.userInfo,"initial-shipping-fee":t.shippingFee},on:{"change-shipping-fee":t.changeShippingFee}})],1),n("div",{staticClass:"form__btn"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.currentStep>1,expression:"currentStep > 1"}],staticClass:"form__btn--previous",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.prevStep.apply(null,arguments)}}},[n("span",{staticClass:"arrow"},[t._v("⟵")]),t._v("上一步 ")]),t.currentStep<3?n("button",{staticClass:"form__btn--next",class:{first:1===t.currentStep},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.nextStep.apply(null,arguments)}}},[t._v(" 下一步"),n("span",{staticClass:"arrow"},[t._v("⟶")])]):3===t.currentStep?n("button",{staticClass:"form__btn--next",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.submitForm.apply(null,arguments)}}},[t._v(" 確認下單 ")]):t._e()])])],1),n("div",{staticClass:"main__content__right"},[n("Cart",{attrs:{"initial-products":t.products,"shipping-fee":t.shippingFee,"initial-total-amount":t.totalAmount},on:{"change-total-amount":t.changeTotalAmount}})],1)])])},w=[],x=n("5530"),A=(n("99af"),n("d81d"),n("e9c4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stepper",attrs:{id:"stepper"}},[n("div",{staticClass:"step",class:{active:1===t.currentStep,checked:t.currentStep>1}},[n("div",{staticClass:"step__circle"}),n("h4",{staticClass:"step__label"},[t._v("寄送地址")])]),n("span",{staticClass:"step__line"}),n("div",{staticClass:"step",class:{active:2===t.currentStep,checked:t.currentStep>2}},[n("div",{staticClass:"step__circle"}),n("h4",{staticClass:"step__label"},[t._v("運送方式")])]),n("span",{staticClass:"step__line"}),n("div",{staticClass:"step",class:{active:3===t.currentStep}},[n("div",{staticClass:"step__circle"}),n("h4",{staticClass:"step__label"},[t._v("付款資訊")])])])}),F=[],q={name:"Stepper",props:{currentStep:{type:Number,required:!0}}},N=q,j=Object(l["a"])(N,A,F,!1,null,null,null),I=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart",attrs:{id:"cart"}},[n("h3",{staticClass:"cart__title"},[t._v("購物籃")]),n("div",{staticClass:"cart__items scrollbar",attrs:{id:"cart__items"}},t._l(t.products,(function(e){return n("div",{key:e.id,staticClass:"cart__item"},[n("img",{staticClass:"item__img",attrs:{src:e.img,alt:"product image"}}),n("div",{staticClass:"item__info"},[n("div",{staticClass:"item__detail"},[n("span",{staticClass:"item__name"},[t._v(t._s(e.name))]),n("div",{staticClass:"item__quantity"},[n("div",{staticClass:"item__quantity--btn item__quantity--minus",on:{click:function(n){return t.minus(e)}}},[t._v("－")]),n("span",{staticClass:"item__quantity--number"},[t._v(t._s(e.quantity))]),n("div",{staticClass:"item__quantity--btn item__quantity--plus",on:{click:function(n){return t.add(e)}}},[t._v("＋")])])]),n("span",{staticClass:"item__price"},[t._v(t._s(t._f("formatter")(e.price*e.quantity)))])])])})),0),n("div",{staticClass:"cart__shipping"},[n("h5",{staticClass:"cart__shipping--subtitle"},[t._v("運費")]),n("h5",{staticClass:"cart__shipping--fee"},[t._v(t._s(t._f("priceTag")(t.shippingFee)))])]),n("div",{staticClass:"cart__sum"},[n("h5",{staticClass:"cart__sum--subtitle"},[t._v("小計")]),n("h5",{staticClass:"cart__sum--price"},[t._v(t._s(t._f("formatter")(t.calcTotal)))])])])},E=[],T=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),$={name:"Cart",props:{shippingFee:{type:Number,required:!0},initialTotalAmount:{type:Number,required:!0},initialProducts:{type:Array,required:!0}},data:function(){return{products:this.initialProducts,totalAmount:this.initialTotalAmount}},computed:{calcTotal:function(){var t=this.products.reduce((function(t,e){return t.price*t.quantity+e.price*e.quantity})),e=t+this.shippingFee;return this.totalAmount=e,e}},methods:{add:function(t){this.products[t.id-1].quantity++},minus:function(t){this.products[t.id-1].quantity<1||this.products[t.id-1].quantity--}},filters:{priceTag:function(t){return 0===Number(t)?"免費":"$500"},formatter:function(t){return T.format(t)}},watch:{totalAmount:function(){this.$emit("change-total-amount",this.totalAmount)}}},M=$,J=Object(l["a"])(M,P,E,!1,null,null,null),D=J.exports,H=n("2f62"),G={name:"Checkout",components:{Stepper:I,Cart:D},data:function(){return{userInfo:{gender:"先生",name:"",phone:"",email:"",city:"",address:"",payname:"",paycard:"",payexp:"",paycode:""},products:[{id:1,name:"破壞補丁修身牛仔褲",img:n("4eba"),price:3999,quantity:1},{id:2,name:"刷色直筒牛仔褲",img:n("c827"),price:1299,quantity:1}],shippingFee:0,totalAmount:5298}},computed:Object(x["a"])({},Object(H["b"])(["currentStep"])),created:function(){this.shippingFee=Number(JSON.parse(localStorage.getItem("shippingFee")))||0,this.totalAmount=Number(JSON.parse(localStorage.getItem("totalAmount")))||5298,this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.products=JSON.parse(localStorage.getItem("products"))},methods:{nextStep:function(){this.$router.push({name:this.currentStep+1})},prevStep:function(){this.$router.push({name:this.currentStep-1})},submitForm:function(){var t=this;console.log(this.userInfo),this.$swal.fire({title:"訂單已送出！",text:"".concat(this.userInfo.name," ").concat(this.userInfo.gender," 感謝您的消費，\n        本次結帳金額為 ").concat(this.totalAmount," 元！"),icon:"success",confirmButtonColor:"#F67599",confirmButtonText:"回首頁"}).then((function(){t.$router.push({name:"1"}),t.currentStep=1,t.userInfo={gender:"先生",name:"",phone:"",email:"",city:"",address:"",payname:"",paycard:"",payexp:"",paycode:""},t.shippingFee=0,t.products.map((function(t){t.quantity=1}))}))},changeShippingFee:function(t){this.shippingFee=Number(t)},changeTotalAmount:function(t){this.totalAmount=Number(t)}},watch:{shippingFee:{handler:function(){localStorage.setItem("shippingFee",JSON.stringify(this.shippingFee))}},totalAmount:{handler:function(){localStorage.setItem("totalAmount",JSON.stringify(this.totalAmount))}},userInfo:{handler:function(){localStorage.setItem("userInfo",JSON.stringify(this.userInfo))},deep:!0},products:{handler:function(){localStorage.setItem("products",JSON.stringify(this.products))},deep:!0}}},L=G,U=Object(l["a"])(L,O,w,!1,null,null,null),B=U.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"not-found"},[n("h1",[t._v(" 404 ")]),n("h4",[t._v(" PAGE NOT FOUND ")]),n("router-link",{staticClass:"not-found_btn",attrs:{to:"/"}},[t._v(" HOME PAGE ")])],1)},Q=[],R={},z=Object(l["a"])(R,K,Q,!1,null,null,null),V=z.exports;a["a"].use(H["a"]);var W=new H["a"].Store({state:{currentStep:1},mutations:{setCurrentStep:function(t,e){t.currentStep=e}}});a["a"].use(k["a"]);var X=[{path:"/",name:"root",redirect:"/checkout/1"},{path:"/checkout",name:"check-out",component:B,children:[{path:"1",name:"1",component:function(){return n.e("chunk-2d0e95b0").then(n.bind(null,"8cd3"))}},{path:"2",name:"2",component:function(){return n.e("chunk-2d0d63d1").then(n.bind(null,"7266"))}},{path:"3",name:"3",component:function(){return n.e("chunk-2d0cfe13").then(n.bind(null,"6630"))}}]},{path:"*",name:"not-found",component:V}],Y=new k["a"]({routes:X});Y.beforeEach((function(t,e,n){W.commit("setCurrentStep",Number(t.name)),n()}));var Z=Y,tt=(n("78a7"),n("f9d5")),et=n.n(tt);n("4413");a["a"].config.productionTip=!1,new a["a"]({router:Z,store:W,render:function(t){return t(S)}}).$mount("#app"),a["a"].use(et.a)},"78a7":function(t,e,n){},c827:function(t,e,n){t.exports=n.p+"img/product-2@3x.e7a49313.png"}});
//# sourceMappingURL=app.6bcf156f.js.map